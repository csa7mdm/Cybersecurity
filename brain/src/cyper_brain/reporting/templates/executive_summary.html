{% extends "base.html" %}

{% block content %}
<div class="meta-info">
    <div class="meta-row">
        <span class="meta-label">Target:</span>
        <span>{{ target }}</span>
    </div>
    <div class="meta-row">
        <span class="meta-label">Date:</span>
        <span>{{ date }}</span>
    </div>
    <div class="meta-row">
        <span class="meta-label">Scan ID:</span>
        <span>{{ scan_id }}</span>
    </div>
</div>

<h2>Executive Summary</h2>
<p>{{ summary }}</p>

<div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; margin: 30px 0;">
    <h3>Overall Risk Score</h3>
    <div style="font-size: 48pt; font-weight: bold; 
        color: {% if risk_score >= 8 %}#e74c3c{% elif risk_score >= 5 %}#f39c12{% else %}#27ae60{% endif %};">
        {{ risk_score }}/10
    </div>
</div>

<h2>Key Findings</h2>
<table>
    <thead>
        <tr>
            <th>Severity</th>
            <th>Vulnerability</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        {% for finding in findings %}
        <tr>
            <td class="risk-{{ finding.severity|lower }}">{{ finding.severity }}</td>
            <td>{{ finding.name }}</td>
            <td>{{ finding.description }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Recommendations</h2>
<ul>
    {% for rec in recommendations %}
    <li>{{ rec }}</li>
    {% endfor %}
</ul>
{% endblock %}